<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Recdb-postgresql : RecDB is a recommendation engine built entirely inside PostgreSQL 9.2" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Recdb-postgresql</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/Sarwat/recdb-postgresql">View on GitHub</a>

          <h1 id="project_title">Recdb-postgresql</h1>
          <h2 id="project_tagline">RecDB is a recommendation engine built entirely inside PostgreSQL 9.2</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/Sarwat/recdb-postgresql/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/Sarwat/recdb-postgresql/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="welcome-to-recdb" class="anchor" href="#welcome-to-recdb"><span class="octicon octicon-link"></span></a>Welcome to RecDB.</h1>

<p>An Open Source Recommendation Engine Built Entirely Inside PostgreSQL 9.2. RecDB allows application developers to build recommendation applications in a heartbeat through a wide variety of built-in recommendation algorithms like user-user collaborative filtering, item-item collaborative filtering, singular value decomposition. Applications powered by RecDB can produce online and flexible personalized recommendations to end-users. You can check out the code, as follows:</p>

<pre><code>$ git clone https://github.com/Sarwat/recdb-postgresql.git
</code></pre>

<h3>
<a name="recommended-specifications" class="anchor" href="#recommended-specifications"><span class="octicon octicon-link"></span></a>Recommended Specifications</h3>

<p>RecDB is designed to be run on a Unix operating system. At least 1GB of RAM is recommended for most queries, though when working with very large data sets more RAM may be desirable, especially when you are not working with apriori recommenders.</p>

<h3>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>Once you've synced with GitHub, the folder should contain the source code for PostgreSQL, as well as several Perl scripts in a directory named "./PostgreSQL/scripts/". If you are familiar with installing PostgreSQL from source, RecDB is installed the exact same way; for the sake of simplicity, however, we have included these scripts that will simplify the process. Note that the installation and remake-related scripts MUST be run from within the PostgreSQL folder in order for them to work correctly.</p>

<ol>
<li>Run the installation script install.pl.</li>
</ol><pre><code>perl install.pl [abs_path]
</code></pre>

<p>[abs_path] is the absolute path to the directory where you want PostgreSQL installed. The directory should exist before running this script. This will also create a folder "data" in the PostgreSQL folder; this is where the database will be located.</p>

<ol>
<li>Run the database server script pgbackend.pl.</li>
</ol><pre><code>perl pgbackend.pl
</code></pre>

<p>The install.pl script stores the install path in a separate file, so there shouldn't be any need to specify it.</p>

<ol>
<li>In a second terminal, run the database interaction script pgfrontend.pl.</li>
</ol><pre><code>perl pgfrontend.pl [db_name] [server_host]
</code></pre>

<p>[db_name] is the name of the database that you intend to use.
[server_host] is the address of the host server running the PostgreSQL backend. If this option is not specified, the script assumes it to be "localhost".</p>

<hr><p>If you need to rebuild PostgreSQL, there are two options.</p>

<p>If you have not modified the grammar, you can do a quick rebuild with remake.pl.</p>

<pre><code>perl remake.pl
</code></pre>

<p>If you have modified the grammar, you will need to do a longer rebuild with remakefull.pl.</p>

<pre><code>perl remakefull.pl [abs_path]
</code></pre>

<p>[abs_path] is the absolute path to the directory where you want PostgreSQL installed. The directory should exist before running this script.</p>

<p>If you ever want to eliminate the current database , use the clean.pl script.</p>

<pre><code>perl clean.pl [db_name] [server_host]
</code></pre>

<h3>
<a name="loading-data" class="anchor" href="#loading-data"><span class="octicon octicon-link"></span></a>Loading Data</h3>

<p>We provide the MovieLens data to build a "Hello-World" movie recommendation application using RecDB. You can load the data using the sql script called "initmovielens1mdatabase.sql" stored in "./PostgreSQL" directory. We provide the dataset at "./PostgreSQL/moviedata / MovieLens1M/" directory.</p>

<h3>
<a name="recommendation-query" class="anchor" href="#recommendation-query"><span class="octicon octicon-link"></span></a>Recommendation Query</h3>

<p>In the recommendation query, the user needs to specify the ratings table and also specify where the user, item, and rating value columns are in that table. Moreover, the user has to designate the recommendation algorithm to be used to predict item ratings. For example, if MovieRatings(userid,itemid,ratingval) represents the ratings table in a movie recommendation application, then to recommend top-10 movies based on the rating predicted using Item-Item Collaborative filtering (applying cosine similarity measure) algorithm to user 1, the user writes the following SQL:</p>

<pre><code>SELECT * FROM MovieRatings R
RECOMMEND R.itemid TO R.userid ON R.ratingval
USING ItemCosCF
WHERE R.userid = 1
ORDER BY R.ratingval
LIMIT 10
</code></pre>

<p>Currently, the available recommendation algorithms that could be passed to the USING clause are the following:</p>

<p>ItemCosCF: Item-Item Collaborative Filtering using Cosine Similarity measure.</p>

<p>ItemPearCF: Item-Item Collaborative Filtering using Pearson Correlation Similarity measure.</p>

<p>UserCosCF: User-User Collaborative Filtering using Cosine Similarity measure. </p>

<p>UserPearCF: User-User Collaborative Filtering using Cosine Similarity measure. </p>

<p>SVD: Simon Funk Singular Value Decomposition. </p>

<p>Note that if you do not specify which user(s) you want recommendations for, it will generate recommendations for all users, which can take an extremely long time to finish.</p>

<h3>
<a name="materializing-recommenders" class="anchor" href="#materializing-recommenders"><span class="octicon octicon-link"></span></a>Materializing Recommenders</h3>

<p>Users may create recommenders apriori so that when a recommendation query is issued may be answer with less latency.</p>

<pre><code>CREATE RECOMMENDER MovieRec ON MovieRatings
USERS FROM userid
ITEMS FROM itemid
EVENTS FROM ratingid
USING ItemCosCF
</code></pre>

<p>Similarly, materialized recommenders can be removed with the following command:</p>

<pre><code>DROP RECOMMENDER MovieRec
</code></pre>

<h3>
<a name="more-complex-queries" class="anchor" href="#more-complex-queries"><span class="octicon octicon-link"></span></a>More Complex Queries</h3>

<p>The main benefit of implementation the recommendation functionality inside a database enine (PostgreSQL) is to allow for integration with traditional database operations, e.g., selection, projection, join. 
For example, the following query recommends the top 10 Comedy movies to user 1. 
In order to do that, the query joins the recommendation with the Movies table and apply a filter on the movies genre column (genre LIKE '%Comedy%').</p>

<pre><code>SELECT * FROM MovieRatings R, Movies M
RECOMMEND R.itemid TO R.userid ON R.ratingval
USING ItemCosCF
WHERE R.userid = 1 AND M.movieid = R.itemid AND M.genre LIKE '%Comedy%'
ORDER BY R.ratingval
LIMIT 10
</code></pre>

<h3>
<a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with RecDB ? contact <a href="mailto:sarwat@cs.umn.edu">sarwat@cs.umn.edu</a> and weâ€™ll help you sort it out.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Recdb-postgresql maintained by <a href="https://github.com/Sarwat">Sarwat</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
